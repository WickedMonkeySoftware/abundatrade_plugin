function demo(){return'<select id="sex" name="sex"><option value="-1" selected>Please select one.</option><option value="Mr.">Mr.</option><option value="Mrs.">Mrs.</option><option value="Ms.">Ms.</option></select><br/><label for="first_name">First Name:</label><br/><input type="text" id="name_first" name="first_name" value=""/><br/><label for="last_name">Last Name:</label><br/><input type="text" id="name_last" name="last_name" value=""/><br/><label for="email_abundatrade">Email:</label><br/><input onchange="checkemail()" id="email_abundatrade" name="email" value="" type="text" /><img id="researching" src="'+
abundacalc.url+'/images/spinner.gif" style="display:none"><span style="display:none" id="bademail">This email is already registered ... <a href="http://abundatrade.com/trade/user/reset/">Forgot your password?</a></span><br/><label for="confirm_email">Confirm Email:</label><br/><input name="confirm_email" type="text" value=""/><input type="hidden" name="a" value="'+jQuery("#a").val()+'"/>'}
function register_guest(){return'<label for="address_street">Street Address:</label><br/><input type="text" id="address_street" name="address_street" /><br/><label for="address_city">City:</label><br/><input type="text" id="address_city" name="address_city"/><br/><label for="address_state">State:</label><br/><input type="text" id="address_state" name="address_state"/><br/><label for="address_zip">Zip:</label><br/><input type="text" id="address_zip" name="address_zip"/><br/><script type="text/javascript">jQuery("#password").keyup(checkpass); jQuery("#confirmPass").keyup(checkpass);<\/script>'}
function register_pass(){return'<label id="label_pass" for="password">Password:</label><br/><input type="password" id="password" name="password" /><span style="display:none" id="shortpass">Must be at least 8 characters</span><br/><label id="label_confirm" for="confirmPass">Confirm Password:</label><br/><input type="password" id="confirmPass" name="confirmPass"/><span id="goodpass" style="display:none" >Matches!</span><span id="badpass" style="display:none" >Does not match!</span></br><label for="address_street">Street Address:</label><br/><input type="text" id="address_street" name="address_street" /><br/><label for="address_city">City:</label><br/><input type="text" id="address_city" name="address_city"/><br/><label for="address_state">State:</label><br/><input type="text" id="address_state" name="address_state"/><br/><label for="address_zip">Zip:</label><br/><input type="text" id="address_zip" name="address_zip"/><br/><script type="text/javascript">jQuery("#password").keyup(checkpass); jQuery("#confirmPass").keyup(checkpass);<\/script>'}
var referral='How did you hear about us?<div class="field"><select id="referrals" name="hvReferral"><option value="-1" selected>Please select one.</option><option value="13">Abundatrade Email</option><option value="25">Amazon or other marketplace</option><option value="1">I previously did a trade</option><option value="3">Referred by a friend</option><option value="24">First Magazine</option><option value="20">Inc. Magazine</option><option value="18">Radio Interview</option><option value="10">Fox News</option><option value="4">Google Search/Ad</option><option value="5">Yahoo Search/Ad</option><option value="16">Facebook</option><option value="17">Twitter</option><option value="15">Blog</option><option value="14">Youtube Video</option><option value="9">Other</option></select></div><div id="friend" style="display: none"><label for="referred">Enter the email address of your friend</label><br/><input type="text" name="referred" id="referred"/></div><div id="other" style="display: none"><label for="Other">Please tell us where you heard about us:</label><br/><div class="field"><input type="text" name="txtOther" value="" /></div></div><script type="text/javascript">jQuery("#referrals").change(function() { if(jQuery("#referrals").val() == 9) {jQuery("#other").slideDown("slow");jQuery("#friend").slideUp("slow");} else if (jQuery("#referrals").val() == 3) {jQuery("#friend").slideDown("slow");jQuery("#other").slideUp("slow");} else { jQuery("#other").slideUp("slow"); jQuery("#friend").slideUp("slow");} } );<\/script><label for="phone_request">Would you like a scanning app for your smart phone?</label><br/><label for="scanner_yes">Yes Please: </label> <input checked="true" type="checkbox" name="phone_request"/><br/><br/><label for="newsletter">Would you like to get the newsletter?</label><br/><label for="newsletter_yes">Yes Please: </label><input checked="true" type="checkbox" name="newsletter"/><br/>',
phone='<label for="phone_type">What kind of phone do you have?</label><input type="text" name="phone_type" id="phone_type" value=""/>',notice='<h2>Please Note</h2><p>The values shown on the calculator are a pre-valuation.</p><p>Item quality needs to be verified for final valuation.</p><p>This valuation is not a commitment.</p><p>All data is kept private.</p><label for="promo_code">Promo Code</label><input type="text" name="promo_code" value=""/>',invalid_email="<h2>Email address invalid</h2><br/><p>Please enter a valid email address.</p>",
nomatch_email="<h2>Email Addresses don't match!</h2><br/><p>Please check your email address to make sure it is correct.</p>",regular_finish="<h2>Email Addresses don't match!</h2><br/><p>Please check your email address to make sure it is correct.</p>";
function state(e,f,g){return{state1:{html:demo(),buttons:{Cancel:0,Next:1},focus:1,submit:function(d,b,c,a){mystate=1;fname=c.children("#name_first");lname=c.children("#name_last");sexm=c.children("#sex");if(0!=b){if(-1==a.sex)return sexm.css("border","solid #ff0000 2px"),!1;if(""==a.first_name)return fname.css("border","solid #ff0000 2px"),!1;fname.css("border","");if(""==a.last_name)return lname.css("border","solid #ff0000 2px"),!1;lname.css("border","");if(jQuery("#bademail").is(":visible"))return!1;
"nomatch"==validateEmail(a.email,a.confirm_email)?jQuery.prompt.goToState("nomatch"):validateEmail(a.email,a.confirm_email)?(mystate+=b,jQuery.prompt.goToState("state"+mystate)):jQuery.prompt.goToState("invalid");return!1}just_logging_in=!1;jQuery.prompt.close()}},state2:{html:e,buttons:{Back:-1,Cancel:0,Next:1},submit:function(d,b,c,a){mystate=2;if(0<b){if(null!=a.password){pass=c.children("password");conf=c.children("confirmPass");if(a.password!=a.confirmPass)return jQuery("#password").css("border",
"solid #ff0000 2px"),jQuery("#confirmPass").css("border","solid #ff0000 2px"),jQuery("#badpass").show(),!1;if(8>a.password.length)return jQuery("#password").css("border","solid #ff0000 2px"),jQuery("#shortpass").show(),!1}if(""==a.address_zip)return jQuery("#address_zip").css("border","solid #ff0000 2px"),!1;if(""==a.address_state)return jQuery("#address_state").css("border","solid #ff0000 2px"),!1;if(""==a.address_city)return jQuery("#address_city").css("border","solid #ff0000 2px"),!1;if(""==a.address_street)return jQuery("#address_street").css("border",
"solid #ff0000 2px"),!1}if(0!=b)return mystate+=b,jQuery.prompt.goToState("state"+mystate),!1;just_logging_in=!1;jQuery.prompt.close()}},state3:{buttons:{Back:-1,Cancel:0,Next:1},focus:2,submit:function(d,b,c,a){mystate=3;if(0<b){lname=c.children("#referrals");if("9"==a.hvReferral&&""==a.txtOther)return jQuery("#other").css("border","solid #ff0000 2px"),!1;if("3"==a.hvReferral&&""==a.referred)return jQuery("#friend").css("border","solid #ff0000 2px"),!1;if("-1"==a.hvReferral)return jQuery("#referrals").css("border",
"solid #ff0000 2px"),!1;jQuery("#referrals").css("border","")}if(0!=b)return mystate="on"==a.phone_request?mystate+b:1==b?mystate+2:mystate+b,5==mystate&&just_logging_in?(jQuery.each(a,function(a,b){str+="&"+a+"="+b}),request=jQuery.ajax({type:"POST",url:"http://"+abundacalc.server+"/trade/process/user/create/",data:"?action=create_user"+str,dataType:"jsonp"}),request.done(function(){get_login_status();just_logging_in=!1;jQuery.prompt.close()})):jQuery.prompt.goToState("state"+mystate),!1;just_logging_in=
!1;jQuery.prompt.close()},html:referral},state4:{html:phone,buttons:{Back:-1,Cancel:0,Next:1},focus:2,submit:function(d,b,c,a){mystate=4;if(0<b){lname=c.children("#phone_type");if(""==a.phone_type)return lname.css("border","solid #ff0000 2px"),!1;lname.css("border","")}if(0!=b)return mystate+=b,5==mystate&&just_logging_in?(jQuery.each(a,function(a,b){str+="&"+a+"="+b}),request=jQuery.ajax({type:"POST",url:"http://"+abundacalc.server+"/trade/process/user/create/",data:"?action=create_user"+str,dataType:"jsonp"}),
request.done(function(){get_login_status();just_logging_in=!1;jQuery.prompt.close()})):jQuery.prompt.goToState("state"+mystate),!1;just_logging_in=!1;jQuery.prompt.close()}},state5:{html:notice,buttons:[{title:"Back",value:-1},{title:"Cancel",value:0},{title:"Agree and Submit",value:"submit"}],focus:2,submit:function(d,b,c,a){mystate=5;if("submit"==b)return jQuery.prompt.goToState("finish"),g(a),!1;if(0!=b)return mystate="on"==a.scanner?mystate+b:-1==b?mystate-2:mystate+b,jQuery.prompt.goToState("state"+
mystate),!1;just_logging_in=!1;jQuery.prompt.close();isguest=!1}},invalid:{html:invalid_email,buttons:{OK:!0},focus:0,submit:function(){jQuery.prompt.goToState("state1");return!1}},nomatch:{html:nomatch_email,buttons:{OK:!0},focus:0,submit:function(){jQuery.prompt.goToState("state1");return!1}},finish:{html:f,buttons:{}}}}function Register(e,f,g){jQuery.prompt.close();var d=setInterval(function(){clearInterval(d);jQuery.prompt(state(e,f,g))},500)};