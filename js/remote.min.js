var number_item=1,itemsToDispose=[];function clean_product_code(a){a.value=a.value.replace(/\W+/g,"")}function validateEmail(a,b){return a.toLowerCase()==b.toLowerCase()?/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(a):"nomatch"}
function abundatrade_logout(){jQuery.ajax({type:"POST",url:"http://"+abundacalc.server+"/trade/process/user/logout/",dataType:"jsonp"}).done(function(){get_login_status()})}var just_logging_in=!1;function abundatrade_login(){just_logging_in=!0;submit_modal(null,null)}var loggedIn=!1;
function get_login_status(){null!=jQuery("#login_status_abundatrade").val()&&(jQuery("#login_status_abundatrade").get(0).innerHTML="<img src='"+abundacalc.url+"/images/spinner.gif'>",jQuery.ajax({type:"POST",url:"http://"+abundacalc.server+"/trade/process/user/status/",dataType:"jsonp"}).done(function(a){a.status?(jQuery("#login_status_abundatrade").get(0).innerHTML="Hello "+a.first_name+" "+a.last_name+' <em><a onclick="abundatrade_logout()">logout</a></em>',loggedIn="Super Cow"==a.first_name?!1:
!0):(jQuery("#login_status_abundatrade").get(0).innerHTML='<em><a onclick="abundatrade_login()">Login/Register</a></em>',loggedIn=!1)}))}
function clear_session(a){jQuery(a).hasClass("disabled")||jQuery.prompt("Are you sure you want to delete the entire listing?",{buttons:{Delete:!0,Cancel:!1},callback:function(a){a&&(a=jQuery.ajax({type:"GET",url:"http://"+abundacalc.server+"/trade/process/request.php",data:"action=clear_session",dataType:"jsonp"}),a.done(function(a){jQuery("#abundaCalcBody_request").children().remove();a.total_qty="0.00";a.currency_for_total="$";a.total="0.00";display_totals(a)}),a.fail(function(a,b,d){alert("Request failed: "+
b+" - "+d)}))}});number_item=1}function new_session(){number_item=1;var a=jQuery.ajax({type:"GET",url:"http://"+abundacalc.server+"/trade/process/request.php",data:"action=new_session",dataType:"jsonp"});a.done(function(){});a.fail(function(){please_wait(!1)})}
function display_totals(a){jQuery("#product_code").val("");jQuery("#item_count").html(a.total_qty);jQuery("#total_item_count").html(a.total_qty);jQuery("#grand_total").html(a.currency_for_total+a.total);jQuery("#total_prevaluation").html(a.currency_for_total+a.total);please_wait(!1);0<jQuery("#total_item_count").text()?(jQuery("#submitList").removeClass("disabled"),jQuery("#submitList").removeAttr("style")):(jQuery("#submitList").addClass("disabled"),jQuery("#submitList").attr("style","cursor:default"));
jQuery(".delete_this_row").attr("onclick","delete_the_row(this); return false;");jQuery("#product_qty").val("1");jQuery("#product_code").focus()}function bulk_open(){jQuery("#bulk_button").slideUp(1E3);jQuery("#abundaCalcTbl").fadeOut(400).delay(100);jQuery("#second_content").slideUp(500);jQuery("#top_input_section").fadeOut(500);jQuery("#bulk").slideDown(500)}
function bulk_close_window(){jQuery("#bulk").slideUp(500);jQuery("#top_input_section").fadeIn(500);jQuery("#second_content").slideDown(500);jQuery("#abundaCalcTbl").delay(100).fadeIn(400);jQuery("#bulk_button").slideDown(1E3);load_previous_session(!1)}function rows(){var a=jQuery("#bulk_upload").val();return document.all?a.split("\r\n"):a.split("\n")}var bulk_final="<div style=''><div style='border: 1px solid #1C1C1C; text-align:justify; padding:5px;'>Your submission has been sent to Abundatrade for processing. We're getting the real time values of your items right now and will send you an email when it is complete. The progress bar below is how far along we are at processing your items.</div><br/><div id='bar_wrap' style='border: 1px solid #1C1C1C;    background-color: #313131;    -webkit-box-shadow: 0 0 1px #666, inset 0 1px 1px #222;    -moz-box-shadow: 0 0 1px #666, inset 0 1px 1px #222;    -o-box-shadow: 0 0 1px #666, inset 0 1px 1px #222;    box-shadow: 0 0 1px #666, inset 0 1px 1px #222;    background-image: -webkit-linear-gradient(#323232, #2E2E2E 50%, #323232);    background-image: -moz-linear-gradient(#323232, #2E2E2E 50%, #323232);    background-image: -o-linear-gradient(#323232, #2E2E2E 50%, #323232);'><div id='bar' class='bar' style='height: 30px;background-color: #5387BA; border-right: 1px solid #282828;-webkit-box-shadow: inset 0 0 1px #ddd; -moz-box-shadow: inset 0 0 1px #ddd; -o-box-shadow: inset 0 0 1px #ddd; box-shadow: inset 0 0 1px #ddd; background-image: -webkit-linear-gradient(#66A3E2, #5387BA 50%, #4B79AF 51%, #385D87); background-image: -moz-linear-gradient(#66A3E2, #5387BA 50%, #4B79AF 51%, #385D87); background-image: -o-linear-gradient(#66A3E2, #5387BA 50%, #4B79AF 51%, #385D87); -webkit-transition: all 1s ease; -moz-transition: all 1s ease; -o-transition: all 1s ease; width:0%;'></div></div><div class='captions' style='padding: 5px 2px 0;'><div class='left' id='progress'></div><div class='right' id='percent'>0%</div></div></div>";
function bulk_submit_items(){submit_modal(submit_bulk,bulk_final)}
function display_bulk_upload(a,b){a&&jQuery.prompt({state:{html:bulk_final,buttons:{}}},{});var c=!1;null==b&&(b=abundacalc.upload_id,c=!0);var f=setInterval(function(){jQuery.ajax({type:"POST",url:"http://"+abundacalc.server+"/trade/process/request.php",data:"action=get_status&id="+b,dataType:"jsonp"}).success(function(a){if(!1==a.error||0==a.on)percent=100*(a.on/a.total),1==a.on&&1==a.total?jQuery("#progress").get(0).innerHTML="Processing complete -- building your email":2==a.on&&2==a.total?(clearInterval(f),
jQuery("#bar").css("width",percent+"%"),jQuery("#progress").get(0).innerHTML="Processing complete -- sending your valuation to you ",jQuery("#percent").get(0).innerHTML=Math.round(percent)+"%",c||(fin=setInterval(function(){clearInterval(fin);jQuery.prompt.close();bulk_close_window();load_previous_session(!0)},2E3))):(jQuery("#bar").css("width",percent+"%"),jQuery("#progress").get(0).innerHTML=a.on+" of approx. "+a.total,jQuery("#percent").get(0).innerHTML=Math.round(percent)+"%")})},1E3)}
function submit_bulk(a){str="";jQuery.each(a,function(a,c){str+="&"+a+"="+c});str+="&bulkinput="+encodeURI(jQuery("#bulk_upload").val());str+="&location="+window.location.href;jQuery.ajax({type:"POST",url:"http://"+abundacalc.server+"/trade/process/bulk_copy.php",data:str,dataType:"jsonp"}).success(function(a){new_session();id=a[0].data;display_bulk_upload(!1,id)})}
function delete_the_row(a){a=jQuery(a).parents("tr").children(".upc").text();jQuery.ajax({type:"GET",url:"http://"+abundacalc.server+"/trade/process/deleteItem.php",data:"product="+a,dataType:"jsonp"}).success(function(a){display_totals(a)});x=jQuery('td:contains("'+a+'")');number_item-=x.length;jQuery('td:contains("'+a+'")').parent().find("td").wrapInner('<div style="display: block;" />').parent().find("td > div").slideUp("slow",function(){jQuery(this).parent().parent().remove()})}
function load_previous_session(a){var b=jQuery.ajax({type:"GET",url:"http://"+abundacalc.server+"/trade/process/request.php",data:"action=load_previous_session",dataType:"jsonp"});b.success(function(b){for(i=0;i<b.length;i++)part=b[i],part.row=jQuery.parseJSON(part.row),part=build_row(part),jQuery("#abundaCalcTbl").prepend(part.row_html),a&&jQuery('td:contains("'+part.product_code+'")').parent().find("td").wrapInner('<div style="display: none;" />').parent().find("td > div").slideDown("slow",function(){var a=
jQuery(this);a.replaceWith(a.contents())}),display_totals(part)});b.fail(function(a,b,d){alert("Request failed: "+b+" - "+d)})}function addDuplicatesToQuantity(a){for(var b=$$("td.upc"),c=$$("td.quantity"),f=0,d=0;d<b.length;d++)a==b[d].children[0].innerHTML&&(f+=parseInt(c[d].children[0].innerHTML),queueForDisposal(b[d].getParent()))}var lastItem;function Remove_Item(a){a='td:contains("'+a+'")';x=jQuery(a);number_item-=x.length;number_item++;jQuery(a).parents("tr").remove()}
function waitFor(a){jQuery("#product_code").val("");row_html="<tr class='new response'> <td class='upc'>"+a+"</td> <td class='details'> <div class='td_details'> <strong>Getting the realtime values for your item</strong><br /><em></em></div> <div class='td_image'> <img src='"+abundacalc.url+"/images/spinner.gif' alt='waiting' /> </div> </td> <td class='quantity'></td> <td class='item'><div class='item'></td> <td class='values'></td> <td class='delete'></tr>";jQuery("#abundaCalcTbl").prepend(row_html)}
function lookup_item(a){jQuery(a).hasClass("disabled")||(5<jQuery("#product_code").val().length?(serial=jQuery("#abundaInput").serialize(),item_code=jQuery("#product_code").val(),waitFor(item_code),a=jQuery.ajax({type:"GET",url:"http://"+abundacalc.server+"/trade/process/request.php",data:serial,dataType:"jsonp"}),a.done(function(a){Remove_Item(item_code);a.row=jQuery.parseJSON(a.row);Remove_Item(a.product_code);build_row(a);lastItem=a;jQuery("#abundaCalcTbl").prepend(a.row_html);jQuery('td:contains("'+
a.product_code+'")').parent().find("td").wrapInner('<div style="display: none;" />').parent().find("td > div").slideDown("slow",function(){var a=jQuery(this);a.replaceWith(a.contents())});display_totals(a)}),a.fail(function(a,c,f){alert("Request failed: "+c+" - "+f);please_wait(!1)})):jQuery.prompt("The product code must be at least 6 characters long.<br/>Enter a UPC or Amazon ASIN."));return!1}function please_wait(){}
var regular_display="<center><p>Sending your trade request and locking in your quote!<br/><span style='font-size:xx-small;'>Give our pecking pigeons a second</span></p></center><center><img src='"+abundacalc.url+"/images/spinner.gif'/></center>";
function displayLogin(){return!loggedIn?'<label for="user">Email Address:</label><br/><input type="text" id="abundatrade_user" name="abundatrade_user" value="" /><br/><label for="password">Password:</label><br/><input type="password" name="abundatrade_password" id="abundatrade_password" value=""/><br/><div style="display:none" id="logging_on"><img src="'+abundacalc.url+'/images/spinner.gif">Logging in -- please wait</div><span id="login_error" class="abundatrade_error" style="display:none;">Invalid Password/Email</span><br/><label for="remember">Remember me?</label><input type="checkbox" name="remember" id="remember"/><br/><a href="http://abundatrade.com/trade/user/reset/">Forgot your password?</a>':
"<p>Welcome back!</p>"}function displayLoginButtons(){return loggedIn?{Cancel:0,"Ready to submit":1}:just_logging_in?{Cancel:0,Login:-1,Register:1}:{Cancel:0,Login:-1,Register:1,"Continue as Guest":2}}
function checkpass(){orig=jQuery("#password").val();conf=jQuery("#confirmPass").val();8>orig.length?jQuery("#shortpass").show():(jQuery("#shortpass").hide(),0!=conf.length&&(orig!=conf?(jQuery("#badpass").show(),jQuery("#goodpass").hide()):(jQuery("#goodpass").show().delay(2E3).fadeOut(),jQuery("#badpass").hide())))}
function checkemail(){isguest||(jQuery("#researching").fadeIn(),request=jQuery.ajax({url:"http://"+abundacalc.server+"/trade/process/user/create/",dataType:"jsonp",data:"email="+jQuery("#email_abundatrade").val()}),request.done(function(a){jQuery("#researching").hide();"invalid request"!=a.error?jQuery("#bademail").show():jQuery("#bademail").hide()}))}isguest=!1;
function hide_for_guest(){isguest=!0;jQuery("#confirmPass").hide();jQuery("#label_confirm").hide();jQuery("#label_pass").hide();jQuery("#password").hide()}
function processLogin(a,b){if(loggedIn){if(0==b)return 0;if(1==b)return jQuery.prompt.goToState("state5"),!1}else{if(0==b)return 0;1==b&&Register(register_pass(),regular_finish,submit_my_list);2==b&&(hide_for_guest(),jQuery.prompt.goToState("state1"));-1==b&&(jQuery("#logging_on").fadeIn(),request=jQuery.ajax({url:"http://"+abundacalc.server+"/trade/process/user/login/",dataType:"jsonp",data:"user="+jQuery("#abundatrade_user").val()+"&password="+jQuery("#abundatrade_password").val()+"&remember="+
jQuery("#remember").is(":checked")}),request.done(function(a){a.error?(jQuery("#logging_on").fadeOut(),jQuery("#login_error").delay(800).show()):(jQuery("#login_error").hide(),just_logging_in?(get_login_status(),just_logging_in=!1,jQuery.prompt.close()):(get_login_status(),just_logging_in=!1,loggedIn=!0,jQuery.prompt.goToState("state5")))}));return!1}}
function display_promo(){return loggedIn?'<label for="promo_code">Promo Code</label><input type="text" name="promo_code" value=""/><br/><br/>':'How did you hear about us?<div class="field"><select id="referrals" name="hvReferral"><option value="-1" selected>Please select one.</option><option value="13">Abundatrade Email</option><option value="25">Amazon or other marketplace</option><option value="1">I previously did a trade</option><option value="3">Referred by a friend</option><option value="24">First Magazine</option><option value="20">Inc. Magazine</option><option value="18">Radio Interview</option><option value="10">Fox News</option><option value="4">Google Search/Ad</option><option value="5">Yahoo Search/Ad</option><option value="16">Facebook</option><option value="17">Twitter</option><option value="15">Blog</option><option value="14">Youtube Video</option><option value="9">Other</option></select></div><div id="friend" style="display: none"><label for="referred">Enter the email address of your friend</label><br/><input type="text" name="referred" id="referred"/></div><div id="other" style="display: none"><label for="Other">Please tell us where you heard about us:</label><br/><div class="field"><input type="text" name="txtOther" value="" /></div></div><script type="text/javascript">jQuery("#referrals").change(function() { if(jQuery("#referrals").val() == 9) {jQuery("#other").slideDown("slow");jQuery("#friend").slideUp("slow");} else if (jQuery("#referrals").val() == 3) {jQuery("#friend").slideDown("slow");jQuery("#other").slideUp("slow");} else { jQuery("#other").slideUp("slow"); jQuery("#friend").slideUp("slow");} } );<\/script><label for="phone_request">Would you like a scanning app for your smart phone?</label><br/><label for="scanner_yes">Yes Please: </label> <input checked="true" type="checkbox" name="phone_request"/><br/><br/><label for="newsletter">Would you like to get the newsletter?</label><br/><label for="newsletter_yes">Yes Please: </label><input checked="true" type="checkbox" name="newsletter"/><br/>'}
function submit_modal(a,b){var c=1;loggedIn&&(c=5);var f={state0:{html:displayLogin(),buttons:displayLoginButtons(),focus:1,submit:function(c,g){if(loggedIn){if(0==g)return 0;if(1==g)return jQuery.prompt.goToState("state5"),!1}else{if(0==g)return 0;1==g&&Register(register_pass(),b,a);2==g&&Register(register_guest(),b,a);-1==g&&(jQuery("#logging_on").fadeIn(),request=jQuery.ajax({url:"http://"+abundacalc.server+"/trade/process/user/login/",dataType:"jsonp",data:"user="+jQuery("#abundatrade_user").val()+
"&password="+jQuery("#abundatrade_password").val()+"&remember="+jQuery("#remember").is(":checked")}),request.done(function(a){a.error?(jQuery("#logging_on").fadeOut(),jQuery("#login_error").delay(800).show()):(jQuery("#login_error").hide(),just_logging_in?(get_login_status(),just_logging_in=!1,jQuery.prompt.close()):(get_login_status(),just_logging_in=!1,loggedIn=!0,jQuery.prompt.goToState("state5")))}));return!1}}},state1:{html:'<select id="sex" name="sex"><option value="-1" selected>Please select one.</option><option value="Mr.">Mr.</option><option value="Mrs.">Mrs.</option><option value="Ms.">Ms.</option></select><br/><label for="first_name">First Name:</label><br/><input type="text" id="name_first" name="first_name" value=""/><br/><label for="last_name">Last Name:</label><br/><input type="text" id="name_last" name="last_name" value=""/><br/><label for="email_abundatrade">Email:</label><br/><input onchange="checkemail()" id="email_abundatrade" name="email" value="" type="text" /><img id="researching" src="'+
abundacalc.url+'/images/spinner.gif" style="display:none"><span style="display:none" id="bademail">This email is already registered</span><br/><label for="confirm_email">Confirm Email:</label><br/><input name="confirm_email" type="text" value=""/><input type="hidden" name="a" value="'+jQuery("#a").val()+'"/>',buttons:{Cancel:0,Next:1},focus:1,submit:function(a,b,d,e){fname=d.children("#name_first");lname=d.children("#name_last");sexm=d.children("#sex");if(0!=b){if(-1==e.sex)return sexm.css("border",
"solid #ff0000 2px"),!1;if(""==e.first_name)return fname.css("border","solid #ff0000 2px"),!1;fname.css("border","");if(""==e.last_name)return lname.css("border","solid #ff0000 2px"),!1;lname.css("border","");"nomatch"==validateEmail(e.email,e.confirm_email)?jQuery.prompt.goToState("nomatch"):validateEmail(e.email,e.confirm_email)?(c+=b,jQuery.prompt.goToState("state"+c)):jQuery.prompt.goToState("invalid");return!1}jQuery.prompt.close()}},state2:{html:'<label id="label_pass" for="password">Password:</label><br/><input type="password" id="password" name="password" /><span style="display:none" id="shortpass">Must be at least 8 characters</span><br/><label id="label_confirm" for="confirmPass">Confirm Password:</label><br/><input type="password" id="confirmPass" name="confirmPass"/><span id="goodpass" style="display:none" >Matches!</span><span id="badpass" style="display:none" >Does not match!</span></br><label for="address_street">Street Address:</label><br/><input type="text" id="address_street" name="address_street" /><br/><label for="address_city">City:</label><br/><input type="text" id="address_city" name="address_city"/><br/><label for="address_state">State:</label><br/><input type="text" id="address_state" name="address_state"/><br/><label for="address_zip">Zip:</label><br/><input type="text" id="address_zip" name="address_zip"/><br/><script type="text/javascript">jQuery("#password").keyup(checkpass); jQuery("#confirmPass").keyup(checkpass);<\/script>',
buttons:{Back:-1,Cancel:0,Next:1},submit:function(a,b,d,e){if(0!=b){if(!isguest){pass=d.children("password");conf=d.children("confirmPass");if(e.password!=e.confirmPass)return jQuery("#password").css("border","solid #ff0000 2px"),jQuery("#confirmPass").css("border","solid #ff0000 2px"),jQuery("#badpass").show(),!1;if(8>e.password.length)return jQuery("#password").css("border","solid #ff0000 2px"),jQuery("#shortpass").show(),!1}if(""==e.address_zip)return jQuery("#address_zip").css("border","solid #ff0000 2px"),
!1;if(""==e.address_state)return jQuery("#address_state").css("border","solid #ff0000 2px"),!1;if(""==e.address_city)return jQuery("#address_city").css("border","solid #ff0000 2px"),!1;if(""==e.address_street)return jQuery("#address_street").css("border","solid #ff0000 2px"),!1;c+=b;jQuery.prompt.goToState("state"+c);return!1}jQuery.prompt.close()}},state3:{buttons:{Back:-1,Cancel:0,Next:1},focus:2,submit:function(a,b,f,e){if(0!=b){lname=f.children("#referrals");if("-1"==e.hvReferral)return jQuery("#referrals").css("border",
"solid #ff0000 2px"),!1;jQuery("#referrals").css("border","");c="on"==e.phone_request?c+b:1==b?c+2:c+b;5==c&&just_logging_in?(jQuery.each(e,function(a,b){d+="&"+a+"="+b}),request=jQuery.ajax({type:"POST",url:"http://"+abundacalc.server+"/trade/process/user/create/",data:"?action=create_user"+d,dataType:"jsonp"}),request.done(function(){get_login_status();just_logging_in=!1;jQuery.prompt.close()})):jQuery.prompt.goToState("state"+c);return!1}jQuery.prompt.close()},html:display_promo()},state4:{html:'<label for="phone_type">What kind of phone do you have?</label><input type="text" name="phone_type" id="phone_type" value=""/>',
buttons:{Back:-1,Cancel:0,Next:1},focus:2,submit:function(a,b,f,e){if(0!=b){lname=f.children("#phone_type");if(""==e.phone_type)return lname.css("border","solid #ff0000 2px"),!1;lname.css("border","");c+=b;5==c&&just_logging_in?(jQuery.each(e,function(a,b){d+="&"+a+"="+b}),request=jQuery.ajax({type:"POST",url:"http://"+abundacalc.server+"/trade/process/user/create/",data:"?action=create_user"+d,dataType:"jsonp"}),request.done(function(){get_login_status();just_logging_in=!1;jQuery.prompt.close()})):
jQuery.prompt.goToState("state"+c);return!1}jQuery.prompt.close()}},state5:{html:'<h2>Please Note</h2><p>The values shown on the calculator are a pre-valuation.</p><p>Item quality needs to be verified for final valuation.</p><p>This valuation is not a commitment.</p><p>All data is kept private.</p><label for="promo_code">Promo Code</label><input type="text" name="promo_code" value=""/>',buttons:[{title:"Back",value:-1},{title:"Cancel",value:0},{title:"Agree and Submit",value:"submit"}],focus:2,submit:function(b,
d,f,e){if("submit"==d)return jQuery.prompt.goToState("finish"),a(e),!1;if(0!=d)return c="on"==e.scanner?c+d:-1==d?c-2:c+d,jQuery.prompt.goToState("state"+c),!1;jQuery.prompt.close();isguest=!1}},invalid:{html:"<h2>Email address invalid</h2><br/><p>Please enter a valid email address.</p>",buttons:{OK:!0},focus:0,submit:function(){jQuery.prompt.goToState("state1");return!1}},nomatch:{html:"<h2>Email Addresses don't match!</h2><br/><p>Please check your email address to make sure it is correct.</p>",
buttons:{OK:!0},focus:0,submit:function(){jQuery.prompt.goToState("state1");return!1}},finish:{html:b,buttons:{}}},d="";jQuery.prompt(f,{callback:function(a,b){b||please_wait(!1)}})}function submit_the_list(a){!jQuery(a).hasClass("disabled")&&0<jQuery("#total_item_count").text()&&submit_modal(submit_my_list,regular_display)}
function submit_my_list(a){str="";jQuery.each(a,function(a,c){str+="&"+a+"="+c});isguest&&(str+="&guest=true");a=jQuery.ajax({type:"GET",url:"http://"+abundacalc.server+"/trade/process/submit.php",data:"action=submit_list"+str,dataType:"jsonp"});a.done(function(a){""==a.error?(jQuery("#abundaCalcTbl > tbody").children().remove(),display_totals(a),window.location=abundacalc.thanks,new_session()):(jQuery.prompt("Your list could not be sent.<br/>"+a.error),please_wait(!1))});a.fail(function(a,c,f){alert("Request failed: "+
c+" - "+f);please_wait(!1)})}function submitGiftCard(){jQuery("input[name=Submit]").attr("disabled","disabled");var a=getParameterByName("email"),b=getParameterByName("key"),a=jQuery.ajax({type:"GET",url:"http://"+abundacalc.server+"/trade/process/createGiftCard.php",data:"email="+a+"&key="+b,dataType:"jsonp"});a.done(function(a){return!0==a.success?(alert("A $5.00 gift certificate is enroute to you!"),!1):!0});a.fail(function(){return!0})}
jQuery(document).ready(function(){"gift"==getParameterByName("act")&&(jQuery("input[name=fields_email]").val(getParameterByName("email")),jQuery("input[name=Submit]").attr("onclick","return submitGiftCard();"));null!=jQuery("#login_status_abundatrade").val()&&(abundacalc.upload_id&&display_bulk_upload(!0),get_login_status(),load_previous_session(!1),jQuery("#abundaInput").submit(function(){lookup_item(jQuery("#lookupItem").text());return!1}),jQuery("#delete_all_top").on("click",function(){clear_session(this)}),
jQuery("#delete_all_bottom").on("click",function(){clear_session(this)}))});function getParameterByName(a){a=a.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");a=RegExp("[\\?&]"+a+"=([^&#]*)").exec(window.location.search);return null==a?"":decodeURIComponent(a[1].replace(/\+/g," "))}
function build_unknown(a,b,c){return"<tr class='new response'> <td class='upc'>"+a+"</td> <td class='details'> <div class='td_details'> <strong>Unknown Item</strong><br /><em>Item not found. You may send for valuation</em></div> <div class='td_image'> <img src='http://g-ecx.images-amazon.com/images/G/01/x-site/icons/no-img-sm._V192198896_.gif' alt='Unkown item' /> </div> </td> <td class='quantity'>"+b+"</td> <td class='item'><div class='item'>$0.00</td> <td class='values'>$0.00</td> <td class='delete'> <a href='#' alt='Delete' class='delete_this_row' id='del_"+
c+"'>Delete</a></tr>"}
function build_row(a){a.row_html="";if(jQuery.isArray(a.row))for(var b=0;b<a.row.length;b++)row=a.row[b],"Unknown"==row.title?a.row_html=build_unknown(row.product_code,row.quantity,row.item_id):(row_price=(new Number(row.price_per/100)).toFixed(2),row_total=(new Number(row.total_price/100)).toFixed(2),a.row_html+=write_html(a,row)),number_item++;else row=a.row,"Unknown"==row.title?a.row_html=build_unknown(row.product_code,row.quantity,row.item_id):(row_price=(new Number(row.price_per/100)).toFixed(2),
row_total=(new Number(row.total_price/100)).toFixed(2),a.row_html+=write_html(a,row)),number_item++;return a}
function write_html(a,b){return"<tr class='new response'> <td class='upc'>"+b.product_code+"</td> <td class='details'> <div class='td_image'> <img src='"+b.images+"' alt='"+b.title+"' /> </div><div class='td_details'> <strong>"+b.title+"</strong><br /><em>"+(null==b.author?"":b.author)+"</em><br/>"+(null==b.category?"":b.category)+"</div>  </div></td> <td class='quantity'>"+b.quantity+"</td> <td class='item'>"+(!0==b.worthless?"<p class='blatent'>No Abunda Value</p>":"")+(!0==b.overstocked?"<span class='blatent'>Over Stocked Item</span>":
"")+"<div class='item'>"+a.currency_for_total+row_price+"</div></td> <td class='values'>"+a.currency_for_total+row_total+"</td> <td class='delete'> <a href='#' alt='Delete' class='delete_this_row' id='del_"+b.item_id+"'>Delete</a></tr>"}function queueForDisposal(a){itemsToDispose.push('td:contains("'+a+'")')}function disposeQueued(){for(var a=0;a<itemsToDispose.length;a++)jQuery(itemsToDispose[a]).parents("tr").remove();itemsToDispose=[]};